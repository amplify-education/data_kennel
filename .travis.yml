sudo: false
language: python
python:
  - "2.7"
install:
  - pip install tox-travis
  - pip install python-codacy-coverage
script:
- bash bin/versionCheck.sh $TRAVIS_BRANCH $TRAVIS_PULL_REQUEST
- tox
- python-codacy-coverage -r coverage.xml
deploy:
  provider: pypi
  user: $PYPI_USER
  password: $PYPI_PASSWORD
  on:
    branch: master
